# Update-chats filtering rules (portable)
# Used by scripts/analyze_update_chats.py

version: 1

# Treat these messages as low-signal acknowledgements; drop from "discussion" output.
ack_noise_regexes:
  - '^(–æ–∫|–æ–∫\.|–ø—Ä–∏–Ω—è—Ç–æ|—Å–ø–∞—Å–∏–±–æ|–¥–∞|–ø–æ–Ω—è–ª|–ø–æ–Ω—è—Ç–Ω–æ|\+|üëç|üëå|–æ–∫–µ–π|—Ö–æ—Ä–æ—à–æ!?|—è—Å–Ω–æ|–ø–æ–Ω)\s*!*\.*$'

# Monitoring dump detection (plain substring match).
monitoring_dump_prefixes:
  - 'FROM:'
monitoring_dump_substrings:
  - 'SUBJECT: EM Event:'

# Drop clears/resolved notifications from monitoring output.
monitoring_clear_regex: '(\bClear\b|\[RESOLVED\]|\bRESOLVED\b|\b–°–µ—Ä–≤–∏—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω\b|üü©)'

# Severity gating for monitoring messages.
monitoring_severity_regex: '(\bFIRING\b|\bCRITICAL\b|\bWARNING\b|\bDOWN\b|üü•|‚ÄºÔ∏è)'

# Only surface monitoring messages that match these domain keywords.
monitoring_domain_keywords:
  - 'ogg'
  - 'goldengate'
  - '–¥–±–∫'
  - 'dbk'
  - 'open way'
  - 'openway'
  - 'ow'
  - 'way4'
  - 'process'
  - '–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥'
  - 'processing'
  - '–ø–µ—Ä–µ–≤–æ–¥'
  - 'p2p'
  - 'c2c'
  - 'card2card'
  - 'oct'
  - '–ø–ª–∞—Ç–µ–∂'
  - 'payment'
  - 'ecomm'
  - 'e-commerce'
  - '3ds'
  - '3-d secure'
  - 'merchant'
  - 'visa'
  - 'mastercard'
  - 'mps'
  - '–Ω–ø–∫'
  - 'humo'
  - 'upi'
  - '—Ç—Ä–∞—Ñ–∏–∫'
  - 'traffic'
  - '–∫–∞–Ω–∞–ª'
  - 'channel'
  - '502'
  - '5xx'

# Ignore monitoring messages if they match ANY of these (case-insensitive substring).
# (mv preference)
monitoring_ignore_substrings:
  - 'SuperApp Halyk. –ß–∞—Ç –±–æ—Ç'
  - '–ß–∞—Ç –±–æ—Ç –≤ —Ä–∞–∑–¥–µ–ª–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'
  - '–∫–∞–±–∏–Ω–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞'

# WhatsApp sender mapping (optional): sender_id (@lid / @s.whatsapp.net) -> human name
wa_sender_map:
  "271274496504050@lid": "–õ–∏—Ç–≤–∏–Ω –ê–ª–µ–∫—Å–∞–Ω–¥—Ä"

# WhatsApp chat title mapping file (jid<TAB>type<TAB>title format).
whatsapp_chats_file: 'data/whatsapp_chats.txt'

# State file to remember last-seen per chat + cached WhatsApp jid->title.
state_file: 'data/update_chats_state.json'
